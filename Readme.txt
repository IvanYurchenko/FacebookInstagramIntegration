1. You need to change FacebookSettings.AccessToken to real AccessToken (would be taken from another place in a production application)

2. Posting image to IG and getting impressions does not work because FB API throws errors when trying to access it in a way specified in the documentation. I might be using it incorrectly, but I don't know where.

Official documentation used:
https://developers.facebook.com/docs/instagram-api
https://developers.facebook.com/docs/instagram-api/guides/content-publishing
https://developers.facebook.com/docs/instagram-api/reference/ig-user/media
https://developers.facebook.com/docs/instagram-api/reference/ig-media
https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights
https://developers.facebook.com/docs/pages/access-tokens/

A lot of other things were used like articles on stackoverflow, forums, etc. - with no result. 